<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id='game' width="800" height="600" style='border: 3px solid #000000'></canvas>
    <!-- <script>
        let gameContext = document.getElementById("game").getContext("2d");
        gameContext.beginPath();
        gameContext.fillStyle = '#fa4b2a';
        gameContext.fillRect(20,20,150,100);
        const carXPosition = 20;
        let carYPosition = 20;
        const carWidth = 150;
        const carHeight = 100;
        function moveCarUp() {

            // Xóa hình chữ nhật đã vẽ trước đó
            gameContext.clearRect(carXPosition, carYPosition, carWidth, carHeight);
            
            //Chặn khi chạm viền
            if (carYPosition > 0) {
                carYPosition--;
            }

            drawCar();
        }

        //Di chuyển đi xuống
        function moveCarDown() {

            // Xoá hình chữ nhật đã vẽ trước đó
            gameContext.clearRect(carXPosition, carYPosition, carWidth, carHeight);

            if (carYPosition + 100 < 600) {
                carYPosition++;
            }

            drawCar();
        }

        function drawCar() {
            gameContext.beginPath();
            gameContext.fillStyle='#fa4b2a';
            gameContext.fillRect(carXPosition, carYPosition, carWidth, carHeight);
        }

        setInterval(moveCarDown, 10); // 50ms
    </script> -->
    <script>
        let gameContext = document.getElementById("game").getContext("2d");
    
        let carYPosition = 20;
        let carXPosition = 20;
    
        let carWidth = 150;
        let carHeight = 100;
    
        let gameTopPosition = 0;
        let gameBottomPosition = 600;
        let timeLoop = 10;
    
        function drawCar() {
          gameContext.beginPath();
          gameContext.fillStyle='#fa4b2a';
          gameContext.fillRect(carXPosition, carYPosition, carWidth, carHeight);
        }
    
        let yDistance = 50;
        function moveCar() {
          gameContext.clearRect(carXPosition, carYPosition, carWidth, carHeight);
    
          let isTouchTop = carYPosition < gameTopPosition;
          let isTouchBottom = carYPosition + carHeight > gameBottomPosition;
          if (isTouchTop || isTouchBottom) {
            yDistance = -yDistance;
          }
    
          carYPosition += yDistance;
          drawCar();
        }
        setInterval(moveCar, timeLoop);
      </script>
</body>
</html>